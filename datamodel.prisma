type User {
  id: ID! @id
  cid: String! @unique
  name: String!
  email: String! @unique
  loginTimestamp: Float!
  score: Int! @default(value: 0)
  isAdmin: Boolean! @default(value: false)
  templatesToSkipCommitConfirm: [String]! @scalarList(strategy: RELATION)
  templatesToSkipMarkAsDone: [String]! @scalarList(strategy: RELATION)
}

enum ConnectionType {
  REQUESTED
  CONFIRMED
  BROKE_WITH
}

type Connection {
  id: ID! @id
  cid: String! @unique
  taskId: String!
  fromId: String!
  fromCid: String!
  fromName: String!
  type: ConnectionType!
  toId: String!
  toCid: String!
  toName: String!
}

enum OutcomeType {
  FULFILLED
  BROKEN
}

type Outcome {
  id: ID! @id
  cid: String! @unique
  taskId: String!
  userId: String!
  signifier: String! @unique
  type: OutcomeType!
}

enum RepeatFrequency {
  DAY,
  WEEK,
  MONTH,
  END_OF_MONTH
}

type TaskTemplate {
  id: ID! @id
  cid: String! @unique
  title: String!
  creationDate: Float!
  repeatFrequency: RepeatFrequency!
  nextPublishDate: Float!
  nextDueDate: Float!
  partnerUpDeadline: Float!
  description: String
}

type Task {
  id: ID! @id
  cid: String! @unique
  templateId: String
  templateCid: String
  title: String!
  due: Float!
  publishDate: Float!
  partnerUpDeadline: Float!
  description: String
  committedUsersIds: [String]! @scalarList(strategy: RELATION)
}
